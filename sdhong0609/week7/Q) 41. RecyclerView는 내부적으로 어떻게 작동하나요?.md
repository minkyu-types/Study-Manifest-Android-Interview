## Q) 41. RecyclerViewëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”?

- RecyclerViewëŠ” ìƒˆë¡œìš´ ì•„ì´í…œ ë·°ë¥¼ ë§¤ë²ˆ ì¸í”Œë ˆì´ì…˜í•˜ì§€ ì•Šê³ , ìŠ¤í¬ë¡¤ ì‹œ ê¸°ì¡´ ë·°ë¥¼ ì¬í™œìš©í•˜ì—¬ ëŒ€ê·œëª¨ ë°ì´í„° ì…‹ì„ íš¨ìœ¨ì ìœ¼ë¡œ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.
- ì´ ê³¼ì •ì—ì„œ ViewHolder íŒ¨í„´ê³¼ ê°ì²´ í’€(RecycledViewPool)ê³¼ ìœ ì‚¬í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ê³¼ ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ ìµœì í™”í•©ë‹ˆë‹¤.

### RecyclerView ë‚´ë¶€ ë©”ì»¤ë‹ˆì¦˜ì˜ í•µì‹¬ ê°œë…

1. ë·° ì¬í™œìš©: í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°„ ë·°ëŠ” ì†Œë©¸ë˜ì§€ ì•Šê³  í’€ì— ì €ì¥, ì´í›„ ì¬ì‚¬ìš©ë˜ì–´ ì¸í”Œë ˆì´ì…˜ ì˜¤ë²„í—¤ë“œë¥¼ í”¼í•©ë‹ˆë‹¤.
2. ViewHolder íŒ¨í„´: ë·° ì°¸ì¡°ë¥¼ ì €ì¥í•´ ë°”ì¸ë”© ì¤‘ ë°˜ë³µì ì¸ findViewById() í˜¸ì¶œì„ ë°©ì§€í•˜ê³  ë ˆì´ì•„ì›ƒ ìˆœíšŒ ë° ë·° ì¡°íšŒë¥¼ ì¤„ì—¬ ì„±ëŠ¥ì„ ê°œì„ í•©ë‹ˆë‹¤.
3. Adapterì˜ ì—­í• : ë°ì´í„° ì†ŒìŠ¤ì™€ RecyclerViewë¥¼ ì—°ê²°í•˜ëŠ” ë‹¤ë¦¬ ì—­í• . onBindViewHolder()ì—ì„œ ì¬ì‚¬ìš©ë˜ëŠ” ë·°ì— ìƒˆ ë°ì´í„°ë¥¼ ë°”ì¸ë”©í•©ë‹ˆë‹¤.
4. RecycledViewPool: ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë·°ê°€ ì €ì¥ë˜ëŠ” ê°ì²´ í’€ ì—­í• . ì´ë¥¼ í†µí•´ RecyclerViewëŠ” ìœ ì‚¬í•œ ë·° ìœ í˜•ì„ ê°€ì§„ ì—¬ëŸ¬ ëª©ë¡ ë˜ëŠ” ì„¹ì…˜ì—ì„œ ë·°ë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ë”ìš± ìµœì í™”
   ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ì¬í™œìš© ë©”ì»¤ë‹ˆì¦˜

1. ìŠ¤í¬ë¡¤ ì‹œ, í™”ë©´ ë°– ë·°ëŠ” í’€ì— ì¶”ê°€ë©ë‹ˆë‹¤.
2. ìƒˆë¡œìš´ ì•„ì´í…œì´ ë“¤ì–´ì˜¬ ë•Œ, í’€ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë·°ë¥¼ ê°€ì ¸ì™€ onBindViewHolder()ë¡œ ë°ì´í„°ë§Œ êµì²´í•©ë‹ˆë‹¤.
3. í’€ì— í•´ë‹¹ ë·°ê°€ ì—†ìœ¼ë©´ onCreateViewHolder()ë¡œ ìƒˆ ë·°ë¥¼ ì¸í”Œë ˆì´ì…˜í•©ë‹ˆë‹¤.
4. ì´ë¥¼ í†µí•´ ë©”ëª¨ë¦¬ í• ë‹¹ê³¼ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.

ë‹¤ìŒì€ ê¸°ë³¸ì ì¸ RecyclerView êµ¬í˜„ ì˜ˆì‹œì…ë‹ˆë‹¤.

```kotlin
class MyAdapter(private val dataList: List<String>) : RecyclerView.Adapter<MyAdapter.MyViewHolder>() {

    // ViewHolder í´ë˜ìŠ¤: ì•„ì´í…œ ë·°ì˜ ì°¸ì¡°ë¥¼ ì €ì¥
    class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {
        val textView: TextView = itemView.findViewById(R.id.textView)
    }

    // ViewHolder ìƒì„±: ìƒˆ ë·° ì¸í”Œë ˆì´ì…˜
    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {
        val view = LayoutInflater.from(parent.context).inflate(R.layout.item_layout, parent, false)
        return MyViewHolder(view)
    }

    // ViewHolderì— ë°ì´í„° ë°”ì¸ë”©
    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {
        holder.textView.text = dataList[position]
    }

    // ë°ì´í„° ì…‹ í¬ê¸° ë°˜í™˜
    override fun getItemCount(): Int = dataList.size
}
```

### RecyclerViewì˜ ê°ì²´ í’€ ì ‘ê·¼ ë°©ì‹ì˜ ì¥ì 

1. í–¥ìƒëœ ì„±ëŠ¥: ì¸í”Œë ˆì´ì…˜ íšŸìˆ˜ë¥¼ ì¤„ì—¬ ìŠ¤í¬ë¡¤ì„ ë¶€ë“œëŸ½ê²Œ ìœ ì§€
2. íš¨ìœ¨ì ì¸ ë©”ëª¨ë¦¬ ê´€ë¦¬: ê°ì²´ í’€ì€ ë·°ë¥¼ ì¬í™œìš©í•˜ì—¬ ë©”ëª¨ë¦¬ í• ë‹¹ì„ ìµœì†Œí™”í•˜ê³  ë¹ˆë²ˆí•œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì„ ë°©ì§€
3. ì»¤ìŠ¤í…€: ë·° ìœ í˜•ë³„ ìµœëŒ€ í’€ í¬ê¸°ë¥¼ ì„¤ì •í•´ ìƒí™©ì— ë§ëŠ” ìµœì í™” ê°€ëŠ¥

### ğŸ’¡ Pro Tips for Mastery: ë™ì¼í•œ RecyclerViewì—ì„œ ë‹¤ë¥¸ ìœ í˜•ì˜ ì•„ì´í…œì„ ì–´ë–»ê²Œ êµ¬í˜„í•˜ë‚˜ìš”?

#### ì—¬ëŸ¬ ì•„ì´í…œ ìœ í˜• êµ¬í˜„ ë‹¨ê³„

1. ì•„ì´í…œ ìœ í˜• ì •ì˜ : ê° ì•„ì´í…œì— ì •ìˆ˜ ìƒìˆ˜ë¡œ ìœ í˜• ì‹ë³„ì ë¶€ì—¬
2. getItemViewType() ì¬ì •ì˜ : ê° ì•„ì´í…œì— ëŒ€í•´ ì ì ˆí•œ ìœ í˜• ë°˜í™˜
3. ì—¬ëŸ¬ ViewHolder ìƒì„± : ìœ í˜•ë³„ë¡œ ì „ìš© ViewHolder í´ë˜ìŠ¤ ì‘ì„±
4. onCreateViewHolder()ì—ì„œ ë ˆì´ì•„ì›ƒ ì¸í”Œë ˆì´ì…˜ : ë·° ìœ í˜•ì— ë§ëŠ” ë ˆì´ì•„ì›ƒ ì‚¬ìš©
5. onBindViewHolder()ì—ì„œ ë°ì´í„° ë°”ì¸ë”© : í•´ë‹¹ ViewHolderì— ë§ëŠ” ë°ì´í„° ì—°ê²°

#### ì˜ˆì œ: ì—¬ëŸ¬ ì•„ì´í…œ ìœ í˜• êµ¬í˜„í•˜ê¸°

```kotlin
class MultiTypeAdapter(private val items: List<ListItem>) : RecyclerView.Adapter<RecyclerView.ViewHolder>() {

    // ì•„ì´í…œ ìœ í˜• ìƒìˆ˜ ì •ì˜
    companion object {
        const val TYPE_HEADER = 0
        const val TYPE_CONTENT = 1
    }

    // ìœ„ì¹˜ì— ë”°ë¥¸ ì•„ì´í…œ ìœ í˜• ë°˜í™˜
    override fun getItemViewType(position: Int): Int {
        return when (items[position]) {
            is ListItem.Header -> TYPE_HEADER
            is ListItem.Content -> TYPE_CONTENT
        }
    }

    // ë·° ìœ í˜•ì— ë”°ë¼ ViewHolder ìƒì„±
    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {
        return when (viewType) {
            TYPE_HEADER -> {
                val view = LayoutInflater.from(parent.context).inflate(R.layout.item_header, parent, false)
                HeaderViewHolder(view)
            }
            TYPE_CONTENT -> {
                val view = LayoutInflater.from(parent.context).inflate(R.layout.item_content, parent, false)
                ContentViewHolder(view)
            }
            else -> throw IllegalArgumentException("Invalid view type")
        }
    }

    // ViewHolderì— ë°ì´í„° ë°”ì¸ë”©
    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {
        when (holder) {
            is HeaderViewHolder -> holder.bind(items[position] as ListItem.Header)
            is ContentViewHolder -> holder.bind(items[position] as ListItem.Content)
        }
    }

    override fun getItemCount(): Int = items.size

    // í—¤ë” ìœ í˜• ViewHolder
    class HeaderViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {
        private val title: TextView = itemView.findViewById(R.id.headerTitle)

        fun bind(item: ListItem.Header) {
            title.text = item.title
        }
    }

    // ì½˜í…ì¸  ìœ í˜• ViewHolder
    class ContentViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {
        private val content: TextView = itemView.findViewById(R.id.contentText)

        fun bind(item: ListItem.Content) {
            content.text = item.text
        }
    }
}
```

```kotlin
// ë‹¤ì–‘í•œ ì•„ì´í…œ ìœ í˜•ì„ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„° í´ë˜ìŠ¤ (Sealed Class ì‚¬ìš©)
sealed class ListItem {
    data class Header(val title: String) : ListItem()
    data class Content(val text: String) : ListItem()
}
```

#### ì£¼ìš” ì°¸ê³  ì‚¬í•­

1. íš¨ìœ¨ì„± : ViewHolder ì¬ì‚¬ìš©ìœ¼ë¡œ ì—¬ëŸ¬ ì•„ì´í…œ ìœ í˜•ì„ ì„±ëŠ¥ ì €í•˜ ì—†ì´ ê´€ë¦¬
2. ëª…í™•í•œ ë¶„ë¦¬ : ìœ í˜•ë³„ ë ˆì´ì•„ì›ƒê³¼ ViewHolderë¡œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ ë° ì½”ë“œ ê°€ë…ì„± í–¥ìƒ
3. í™•ì¥ì„± : ìƒˆ ìœ í˜• ì¶”ê°€ ì‹œ ìƒˆë¡œìš´ ë ˆì´ì•„ì›ƒ, ìƒˆë¡œìš´ ViewHolder ì •ì˜ì™€ ìµœì†Œí•œì˜ ë¡œì§ ìˆ˜ì •ë§Œ í•„ìš”

### ğŸ’¡ Pro Tips for Mastery: RecyclerViewì˜ ì„±ëŠ¥ì„ ì–´ë–»ê²Œ í–¥ìƒì‹œí‚¤ë‚˜ìš”?

[ListAdapter](https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter)
ì™€ [DiffUtil](https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil)ì„ í™œìš©í•˜ë©´ RecyclerView ì„±ëŠ¥ì„ ìµœì í™”í• 
ìˆ˜ ìˆìŠµë‹ˆë‹¤.
DiffUtilì€ ë‘ ëª©ë¡ ê°„ ì°¨ì´ë¥¼ ê³„ì‚°í•´ í•„ìš”í•œ í•­ëª©ë§Œ ì—…ë°ì´íŠ¸í•˜ë©°, ë¶ˆí•„ìš”í•œ notifyDataSetChanged() í˜¸ì¶œì„ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ë¥¼ í†µí•´ ëŒ€ê·œëª¨ ë°ì´í„° ì…‹ì—ì„œë„ ìµœì†Œí•œì˜ ì—…ë°ì´íŠ¸ë§Œ ìˆ˜í–‰í•´ ì„±ëŠ¥ ì €í•˜ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.

#### DiffUtil ì‚¬ìš© ë‹¨ê³„

1. DiffUtil.ItemCallback êµ¬í˜„ ë˜ëŠ” DiffUtil.Callback ìƒì† : ì´ì „ ëª©ë¡ê³¼ ìƒˆ ëª©ë¡ì˜ ì°¨ì´ ê³„ì‚° ì •ì˜
2. ì–´ëŒ‘í„°ì— ìƒˆ ë°ì´í„° ì œê³µ : ListAdapterì˜ submitList()ë‚˜ ì»¤ìŠ¤í…€ ì–´ëŒ‘í„° ë©”ì„œë“œë¡œ ë³€ê²½ì‚¬í•­ ë°˜ì˜
3. DiffUtilê³¼ ì–´ëŒ‘í„°ë¥¼ ì—°ë™ : ì—…ë°ì´íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì²˜ë¦¬

#### ì˜ˆì œ: RecyclerViewì™€ DiffUtil êµ¬í˜„í•˜ê¸°

```kotlin
class MyDiffUtilCallback : DiffUtil.ItemCallback<MyItem>() {
    override fun areItemsTheSame(oldItem: MyItem, newItem: MyItem): Boolean {
        // ì•„ì´í…œì´ ë™ì¼í•œ ë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ í™•ì¸
        return oldItem.id == newItem.id
    }

    override fun areContentsTheSame(oldItem: MyItem, newItem: MyItem): Boolean {
        // ì•„ì´í…œì˜ ë‚´ìš©ì´ ë™ì¼í•œì§€ í™•ì¸
        return oldItem == newItem
    }
}
```

```kotlin
class MyAdapter : ListAdapter<MyItem, MyViewHolder>(MyDiffUtilCallback()) {

    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {
        val view = LayoutInflater.from(parent.context).inflate(R.layout.item_layout, parent, false)
        return MyViewHolder(view)
    }

    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {
        holder.bind(getItem(position))
    }
}

class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {
    private val textView: TextView = itemView.findViewById(R.id.textView)

    fun bind(item: MyItem) {
        textView.text = item.name
    }
}
```

```kotlin
val adapter = MyAdapter()
recyclerView.adapter = adapter

val oldList = listOf(MyItem(1, "Old Item"), MyItem(2, "Another Item"))
val newList = listOf(MyItem(1, "Updated Item"), MyItem(3, "New Item"))

// ìë™ìœ¼ë¡œ ì•„ì´í…œì˜ ë‹¤ë¥¸ ë¶€ë¶„ì„ ê³„ì‚°í•˜ê³  í•„ìš”í•œ ë¶€ë¶„ë§Œ RecyclerViewì—ì„œ ì—…ë°ì´íŠ¸
adapter.submitList(newList)
```

#### DiffUtilì˜ ì£¼ìš” ì´ì 

1. í–¥ìƒëœ ì„±ëŠ¥: ì „ì²´ ëª©ë¡ ëŒ€ì‹  ìˆ˜ì •ëœ í•­ëª©ë§Œ ê°±ì‹ 
2. ì„¸ë¶„í™”ëœ ì—…ë°ì´íŠ¸: ì‚½ì…, ì‚­ì œ, ìˆ˜ì • ê°œë³„ì  ì²˜ë¦¬ì— ë”°ë¥¸ ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ ì§€ì›
3. ListAdapterì™€ì˜ ì›í™œí•œ í†µí•©: ListAdapterëŠ” DiffUtilì„ ë‚´ë¶€ì ìœ¼ë¡œ êµ¬í˜„í•˜ê³  ìˆëŠ” ì•ˆë“œë¡œì´ë“œ Jetpack ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì–´ëŒ‘í„°ë¡œ, ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œ ê°ì†Œ

#### ê³ ë ¤ ì‚¬í•­

1. ëŒ€ê·œëª¨ ëª©ë¡ì— ëŒ€í•œ ì˜¤ë²„í—¤ë“œ: ëŒ€ê·œëª¨ ëª©ë¡ì—ì„œëŠ” ì°¨ì´ ê³„ì‚° ìì²´ê°€ ì˜¤ë²„í—¤ë“œê°€ ë  ìˆ˜ ìˆìŒ. ìƒí™©ì— ë§ê²Œ ì‚¬ìš© í•„ìš”
2. ë¶ˆë³€ ë°ì´í„°: ë°ì´í„° ëª¨ë¸ì´ ë¶ˆë³€(immutable)ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤. ê°€ë³€ ë°ì´í„°ëŠ” DiffUtilì´ ë³€ê²½ ì‚¬í•­ì„ ê³„ì‚°í•˜ë ¤ê³  í•  ë•Œ ë¶ˆì¼ì¹˜ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
