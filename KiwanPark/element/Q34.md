## â“ Q) 34. Viewì™€ ViewGroupì˜ ì°¨ì´ì ì€ ë¬´ì—‡ì¸ê°€ìš”?

---

### ðŸ“Œ ê°œë…
- **View**
  - ì•ˆë“œë¡œì´ë“œ UIì˜ ê¸°ë³¸ êµ¬ì„± ìš”ì†Œë¡œ, í™”ë©´ì— ë‚˜íƒ€ë‚˜ëŠ” ë‹¨ì¼ UI ìš”ì†Œë¥¼ ì˜ë¯¸í•¨.
  - ì˜ˆ: `TextView`, `ImageView`, `Button` ë“±.
  - ì‚¬ìš©ìžì˜ ìž…ë ¥(í„°ì¹˜, í‚¤ ìž…ë ¥ ë“±)ì„ ì²˜ë¦¬í•˜ê³  í™”ë©´ì— ë‚´ìš©ì„ ê·¸ë¦¼.

- **ViewGroup**
  - ë‹¤ë¥¸ View(ë˜ëŠ” ViewGroup)ë¥¼ í¬í•¨í•  ìˆ˜ ìžˆëŠ” **ì»¨í…Œì´ë„ˆ ì—­í• **ì˜ ë·°.
  - ë ˆì´ì•„ì›ƒì„ ì •ì˜í•˜ê³ , ìžì‹ Viewì˜ ë°°ì¹˜ì™€ í¬ê¸°ë¥¼ ê²°ì •í•¨.
  - ì˜ˆ: `LinearLayout`, `RelativeLayout`, `ConstraintLayout` ë“±.

---

### ðŸ› ï¸ ì£¼ìš” ì°¨ì´ì 

| êµ¬ë¶„ | View | ViewGroup |
|------|------|-----------|
| ì—­í•  | ë‹¨ì¼ UI ìš”ì†Œ í‘œì‹œ ë° ì´ë²¤íŠ¸ ì²˜ë¦¬ | ì—¬ëŸ¬ Viewë¥¼ í¬í•¨, ë°°ì¹˜ ë° í¬ê¸° ì¡°ì • |
| ìƒì† | `android.view.View` ì§ì ‘ ìƒì† | `android.view.ViewGroup` ìƒì† (Viewì˜ í•˜ìœ„ í´ëž˜ìŠ¤) |
| ìžì‹ View ë³´ìœ  | ë¶ˆê°€ëŠ¥ | ê°€ëŠ¥ |
| ì˜ˆì‹œ | `Button`, `ImageView` | `LinearLayout`, `FrameLayout` |

---

### ðŸ’¡ ë™ìž‘ ë°©ì‹
- ViewëŠ” **ê·¸ë¦¬ê¸°**(`Draw`)ì™€ **ì´ë²¤íŠ¸ ì²˜ë¦¬**ê°€ ì£¼ ì—­í• .
- ViewGroupì€ **ìžì‹ View ì¸¡ì •**(`Measure`) â†’ **ë°°ì¹˜**(`Layout`) â†’ **ê·¸ë¦¬ê¸°**(`Draw`) ìˆœì„œë¡œ ë™ìž‘.
- ViewGroup ìžì²´ë„ Viewì´ë¯€ë¡œ, **ìžì‹ ì„ ê·¸ë¦¬ëŠ” ê³¼ì •**ê³¼ **ìžì‹ ë·°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê³¼ì •**ì„ ëª¨ë‘ ìˆ˜í–‰.

---

### ðŸ§© ì½”ë“œ ì˜ˆì‹œ

```kotlin
// View ì˜ˆì‹œ
val textView = TextView(context).apply {
    text = "Hello World"
}

// ViewGroup ì˜ˆì‹œ
val linearLayout = LinearLayout(context).apply {
    orientation = LinearLayout.VERTICAL
    addView(textView)
}
```

---

### ðŸš€ ì‹¤ì „ íŒ
- Viewì™€ ViewGroupì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ë©´ **ë ˆì´ì•„ì›ƒ ìµœì í™”**ì™€ **ë Œë”ë§ ì„±ëŠ¥ í–¥ìƒ**ì— ë„ì›€.
- ë¶ˆí•„ìš”í•œ ì¤‘ì²© ViewGroupì€ ì œê±°í•˜ì—¬ **UI ì„±ëŠ¥ ê°œì„ ** ê°€ëŠ¥.
- ì»¤ìŠ¤í…€ View ìž‘ì„± ì‹œ, ë‹¨ì¼ ìš”ì†Œë¼ë©´ Viewë¥¼, ë³µí•© UIë¼ë©´ ViewGroupì„ ìƒì†í•˜ëŠ” ê²ƒì´ ì ì ˆ.

---

### ðŸ“Ž Additional Tips
1. **ì¤‘ì²© ë ˆì´ì•„ì›ƒ ìµœì†Œí™”**  
   - ì¤‘ì²©ëœ ViewGroupì´ ë§Žì„ìˆ˜ë¡ ì¸¡ì •ê³¼ ë°°ì¹˜ ê³¼ì •ì´ ë³µìž¡í•´ì ¸ ì„±ëŠ¥ì´ ì €í•˜ë¨.  
   - ConstraintLayout ê°™ì€ **Flat Layout** êµ¬ì¡°ë¥¼ í™œìš©í•´ ê¹Šì´ë¥¼ ì¤„ì´ëŠ” ê²ƒì´ ì¢‹ìŒ.

2. **onDraw() ìµœì í™”**  
   - ViewëŠ” onDraw()ê°€ ìžì£¼ í˜¸ì¶œë  ìˆ˜ ìžˆìœ¼ë¯€ë¡œ, ë¶ˆí•„ìš”í•œ ì—°ì‚°ì„ í”¼í•˜ê³  ìºì‹±ì„ í™œìš©.

3. **í„°ì¹˜ ì´ë²¤íŠ¸ ì „íŒŒ ì´í•´**  
   - ViewGroupì€ ìžì‹ Viewë¡œ í„°ì¹˜ ì´ë²¤íŠ¸ë¥¼ ë¶„ë°°í•  ìˆ˜ ìžˆìŒ(`onInterceptTouchEvent()`).  
   - í„°ì¹˜ ì¶©ëŒì„ ë°©ì§€í•˜ë ¤ë©´ ì ì ˆížˆ ì´ë²¤íŠ¸ë¥¼ ê°€ë¡œì±„ê±°ë‚˜ ì „ë‹¬í•´ì•¼ í•¨.

4. **View ìž¬í™œìš©**  
   - RecyclerViewë‚˜ ListViewì²˜ëŸ¼ ë§Žì€ Viewë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, View ìž¬í™œìš© íŒ¨í„´ì„ í™œìš©í•´ ë©”ëª¨ë¦¬ ì ˆì•½.

5. **ë§žëŠ” ìƒì† í´ëž˜ìŠ¤ ì„ íƒ**  
   - ë³µí•© UIë¥¼ ê·¸ë¦¬ëŠ”ë° ViewGroupì´ í•„ìš” ì—†ëŠ”ë°ë„ ViewGroupì„ ì“°ë©´ ë¶ˆí•„ìš”í•œ ì¸¡ì •/ë°°ì¹˜ ë¹„ìš© ë°œìƒ.  
   - ëª©ì ì— ë§žëŠ” ìµœì†Œí•œì˜ ìƒì† êµ¬ì¡° ì„ íƒì´ ì¤‘ìš”.

---

### ðŸ’¬ ì‹¤ì „ ì§ˆë¬¸ 1
Q1)
 View
ìƒëª…ì£¼ê¸°ì—ì„œ requestLayout(), invalidate(),
 postInvalidate()ê°€ ì–´ë–»ê²Œ ìž‘ë™í•˜ëŠ”ì§€ ì„¤ëª…í•˜ê³  ê°ê° ì–¸ì œ
ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?

A1) **requestLayout / invalidate / postInvalidate ìž‘ë™ ì›ë¦¬ì™€ ì‚¬ìš© ì‹œì **  
- **requestLayout()**
  - íš¨ê³¼: í•´ë‹¹ View(ë° ìƒìœ„ ViewGroup)ì— **ë ˆì´ì•„ì›ƒ íŒ¨ìŠ¤(Measure â†’ Layout â†’ Draw)** ë¥¼ ë‹¤ì‹œ ìš”ì²­.  
  - íŠ¸ë¦¬ê±° ì¡°ê±´: í¬ê¸°ë‚˜ ìœ„ì¹˜ì— ì˜í–¥ì„ ì£¼ëŠ” ì†ì„± ë³€ê²½(íŒ¨ë”©, ë ˆì´ì•„ì›ƒ íŒŒë¼ë¯¸í„°, í…ìŠ¤íŠ¸ í¬ê¸°ì— ë”°ë¥¸ ì¸¡ì • ë³€ê²½ ë“±).  
  - ì‚¬ìš© ì‹œì : â€œë°°ì¹˜ê°€ ë‹¬ë¼ì ¸ì•¼ í•˜ëŠ”â€ ë³€í™”ê°€ ìžˆì„ ë•Œ.
- **invalidate()**
  - íš¨ê³¼: í˜„ìž¬ í¬ê¸°/ìœ„ì¹˜ëŠ” ìœ ì§€í•˜ê³  **Drawë§Œ ë‹¤ì‹œ ìˆ˜í–‰**(onDraw ìž¬í˜¸ì¶œ).  
  - íŠ¸ë¦¬ê±° ì¡°ê±´: í”½ì…€ ì½˜í…ì¸ ë§Œ ë°”ë€ŒëŠ” ê²½ìš°(ê·¸ëž˜í”„ ìˆ˜ì¹˜, í”„ë¡œê·¸ë ˆìŠ¤, ìƒ‰ìƒ/ê·¸ë¼ë°ì´ì…˜ ë“±).  
  - ì‚¬ìš© ì‹œì : â€œê·¸ë¦¼ë§Œ ë‹¤ì‹œ ì¹ í•˜ë©´ ë˜ëŠ”â€ ë³€í™”ê°€ ìžˆì„ ë•Œ.
- **postInvalidate()**
  - íš¨ê³¼: UI ìŠ¤ë ˆë“œê°€ ì•„ë‹Œ ìŠ¤ë ˆë“œì—ì„œ ì•ˆì „í•˜ê²Œ invalidateë¥¼ **ìŠ¤ì¼€ì¤„**.  
  - ì‚¬ìš© ì‹œì : ì›Œì»¤ ìŠ¤ë ˆë“œ(ì½”ë£¨í‹´/ìŠ¤ë ˆë“œ)ì—ì„œ ê³„ì‚° í›„ UI ì—…ë°ì´íŠ¸ í•„ìš” ì‹œ.

```kotlin
// ì˜ˆì‹œ: í¬ê¸°/ë°°ì¹˜ê°€ ë°”ë€Œë©´ requestLayout, ë‚´ìš©ë§Œ ë°”ë€Œë©´ invalidate
class GaugeView(context: Context, attrs: AttributeSet?) : View(context, attrs) {
    var value: Int = 0
        set(v) {
            field = v.coerceIn(0, 100)
            invalidate() // í”½ì…€ë§Œ ê°±ì‹ 
        }

    var barHeight: Int = dp(8)
        set(h) {
            field = h
            requestLayout() // ì¸¡ì •/ë°°ì¹˜ê°€ ë°”ë€œ
        }

    fun updateFromWorkerThread(v: Int) {
        // ì›Œì»¤ ìŠ¤ë ˆë“œì—ì„œ í˜¸ì¶œë  ìˆ˜ ìžˆìŒ
        postInvalidate() // UI ìŠ¤ë ˆë“œì— ì•ˆì „í•˜ê²Œ ê·¸ë¦¬ê¸° ìš”ì²­
    }
}
```
---

Q2) View ìƒëª…ì£¼ê¸°ëŠ” Activity ìƒëª…ì£¼ê¸°ì™€ ì–´ë–»ê²Œ ë‹¤ë¥´ë©°, íš¨ìœ¨ì ì¸
UI ë Œë”ë§ì„ ìœ„í•´ ë‘˜ ë‹¤ ì´í•´í•˜ëŠ” ê²ƒì´ ì™œ ì¤‘ìš”í•œê°€ìš”

A2) **View ìƒëª…ì£¼ê¸° vs Activity ìƒëª…ì£¼ê¸° & ì™œ ë‘˜ ë‹¤ ì¤‘ìš”í•œê°€**  
- **Activity ìƒëª…ì£¼ê¸°**: í™”ë©´ ë‹¨ìœ„ ì»¨í…Œì´ë„ˆì˜ ìƒíƒœ ì „ì´ ê´€ë¦¬  
  - ì½œë°±: `onCreate â†’ onStart â†’ onResume â†’ onPause â†’ onStop â†’ onDestroy`  
  - ì±…ìž„: í™”ë©´ ì „í™˜/ê¶Œí•œ/ë¦¬ì†ŒìŠ¤ ì†Œìœ (ì¹´ë©”ë¼Â·ì„¼ì„œ)/ë„¤ë¹„ê²Œì´ì…˜ ê´€ë¦¬, ì „ì—­ì  ì´ˆê¸°í™”Â·í•´ì œ
- **View ìƒëª…ì£¼ê¸°**: ê°œë³„ UI ìš”ì†Œì˜ **ë¶€ì°©/ì¸¡ì •/ë°°ì¹˜/ê·¸ë¦¬ê¸°** íë¦„  
  - ì½œë°±: `onAttachedToWindow â†’ onMeasure â†’ onLayout â†’ onDraw â†’ onDetachedFromWindow`  
  - ì±…ìž„: ìžì²´ í¬ê¸° ê³„ì‚°, ìžì‹ ë°°ì¹˜(ViewGroup), í”½ì…€ ë Œë”ë§, ìž…ë ¥ ì²˜ë¦¬
- **ë‘˜ ë‹¤ ì´í•´í•´ì•¼ í•˜ëŠ” ì´ìœ **  
  - ì˜¬ë°”ë¥¸ **ì´ˆê¸°í™”/í•´ì œ íƒ€ì´ë°**: Activityì˜ ë¦¬ì†ŒìŠ¤ëŠ” Activity ì½œë°±ì—ì„œ, ë·° ê´€ë ¨ ë¦¬ì†ŒìŠ¤ëŠ” Viewì˜ attach/detachì—ì„œ.  
  - **ì„±ëŠ¥ ìµœì í™”**: ë¶ˆí•„ìš”í•œ `requestLayout()` ë‚¨ë°œì€ ì „ì²´ íŠ¸ë¦¬ ìž¬ì¸¡ì • ìœ ë°œ, `invalidate()`ëŠ” êµ­ì†Œì  ê°±ì‹ ì— ì‚¬ìš©.  
  - **ë²„ê·¸ ì˜ˆë°©**: ActivityëŠ” ì‚´ì•„ìžˆì§€ë§Œ Viewê°€ ì´ë¯¸ `onDetachedFromWindow` ëœ ìƒíƒœì—ì„œ UI ì ‘ê·¼ ì‹œ í¬ëž˜ì‹œ/ëˆ„ìˆ˜ ë°œìƒ.

---

### ðŸŽ¨ View vs ViewGroup ë¹„êµ ë‹¤ì´ì–´ê·¸ëž¨

```mermaid
graph TD
    A[View] -->|ìƒì†| B[TextView, ImageView, Button]
    A -->|ê¸°ëŠ¥| C[ê·¸ë¦¬ê¸°, ì´ë²¤íŠ¸ ì²˜ë¦¬]
    D[ViewGroup] -->|ìƒì†| E[LinearLayout, RelativeLayout, ConstraintLayout]
    D -->|ê¸°ëŠ¥| F[ìžì‹ View ì¸¡ì •, ë°°ì¹˜, ê·¸ë¦¬ê¸°]
    D -->|í¬í•¨| A
    style A fill:#f9f,stroke:#333,stroke-width:1px
    style D fill:#bbf,stroke:#333,stroke-width:1px
```

---

### ðŸ“Š View ìƒëª…ì£¼ê¸° & requestLayout/invalidate í˜¸ì¶œ íë¦„ ë‹¤ì´ì–´ê·¸ëž¨

```mermaid
sequenceDiagram
    participant Activity
    participant View
    Activity->>View: onAttachedToWindow()
    View->>View: onMeasure()
    View->>View: onLayout()
    View->>View: onDraw()

    Note over View: UI ì†ì„±/í¬ê¸° ë³€ê²½
    View->>View: requestLayout()
    View->>View: Measure â†’ Layout â†’ Draw ìž¬ì‹¤í–‰

    Note over View: í”½ì…€ ì½˜í…ì¸  ë³€ê²½
    View->>View: invalidate()
    View->>View: Drawë§Œ ìž¬ì‹¤í–‰

    Note over View: ë¹„UI ìŠ¤ë ˆë“œì—ì„œ UI ê°±ì‹  í•„ìš”
    View->>View: postInvalidate()
    View->>UIThread: invalidate() ìŠ¤ì¼€ì¤„
    UIThread->>View: Draw ì‹¤í–‰
```
